---
# The file stores general configuration for Nephos
# such as logger configuration.
# NOTE: Log address provided relative to __nephos_dir__
# NOTE: If this file is edited, Nephos needs to be restarted to show changes
log:
  version: 1
  disable_existing_loggers: True
  formatters:
    simple:
      format: "%(asctime)s [%(name)s] [%(levelname)-8s] %(message)s"
      datefmt: '%m/%d/%Y %I:%M:%S %p'
    colored:
      "()": coloredlogs.ColoredFormatter
      format: "%(asctime)s [%(name)s] [%(levelname)-8s] %(message)s"
      datefmt: '%m/%d/%Y %I:%M:%S %p'
  handlers:
    console:
      class: logging.StreamHandler
      formatter: colored
      stream: ext://sys.stdout
      level: INFO
    nephos_file:
      class: nephos.logger.EnsureFolderFileHandler
      formatter: simple
      filename: logs/nephos.log
      level: DEBUG
    recorder_file:
      class: nephos.logger.EnsureFolderFileHandle
      formatter: simple
      filename: logs/recorder.log
      level: DEBUG
    preprocess_file:
      class: nephos.logger.EnsureFolderFileHandle
      formatter: simple
      filename: logs/preprocess.log
      level: DEBUG
    uploader_file:
      class: nephos.logger.EnsureFolderFileHandle
      formatter: simple
      filename: logs/uploader.log
      level: DEBUG
    email:  # TODO: Use environment variables instead of hard coded values
      class: logging.handlers.SMTPHandler
      formatter: simple
      mailhost: !!python/tuple ["smtp.gmail.com", 587]
      fromaddr: "no-reply@nephos"
      toaddrs: ["shivam.cs.iit.kgp@gmail.com"]
      subject: "Nephos Critical Error"
      credentials: !!python/tuple ["codestashkgp@gmail.com", "pass"]
      secure: !!python/tuple []
      level: CRITICAL
  root:
    level: DEBUG
    handlers: [console, file, email]
  loggers:
    nephos_file:
      level: DEBUG
      handler: [console, file, email]
    nephos.recoder:
      level: DEBUG
      handler: [console, recorder_file, email]
    nephos.preprocessor:
      level: DEBUG
      handle: [console, preprocess_file, email]
    nephos.uploader:
      level: DEBUG
      handle: [console, uploader_file, email]
...